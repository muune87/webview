<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="">
    <title>헤레디움 테스트</title>
    <script type="text/javascript">
        let version = "0.3"
    
        alert("version : " + version);
        
        window.onload = function(){
            document.getElementById('getWifiInfo').onclick = function(e){
                //alert('getWifiInfo');
                window.webkit.messageHandlers.getWifiInfo.postMessage(version);
                return false;
            }
        }
        
        // 네이티브 에서 호출할 메소드
        function getWifiInfoResult(message){
            // console.log('getWifiInfoResult : $message');
            //alert("getWifiInfoResult")
            let nativeInput = document.getElementById("native_input")
            
            if(message == ""){
                alert("앱 접근 권한이 없음");
            }else if(message == "null"){
                alert("설정된 와이파이가 없음");
            }else{
                alert(JSON.parse(message));
            }
            
            nativeInput.value = message;
            
        }
        
        function permissionDenied(message){
            // console.log('getWifiInfoResult : $message');
            //alert("getWifiInfoResult")
            let nativeInput = document.getElementById("native_input")
            nativeInput.value = "권한 허용을 하지 않음!!(permissionDenied호출됨)";
            
        }
    </script>
</head>

<body>
    <div >
        <p></p>
         <h3 class="">getWifiInfo</h3>
         <input class="btn-indigo" type="submit" name="send" id="getWifiInfo" value="getWifiInfo" />
        
        <h2 class="">네이티브에서 입력한 내용</h2>
        <input name="native_input" id="native_input" value="" style="width:100%;"/>
  
    </div>
</body>
</html>
